# Bez Komprese Fan App

Fanou≈°kovsk√° aplikace pro YouTube kan√°l **Bez Komprese**, vyvinut√° s d≈Ørazem na Mobile First p≈ô√≠stup.

## üåê ≈Ωiv√© Demo

Aplikace bƒõ≈æ√≠ online na adrese: **[https://bezkompreseapp.web.app](https://bezkompreseapp.web.app)**

## ‚ú® Hlavn√≠ Funkce

### üè† Domovsk√° Str√°nka
- **Soci√°ln√≠ Feed**: Automatick√© naƒç√≠t√°n√≠ nejnovƒõj≈°√≠ch p≈ô√≠spƒõvk≈Ø z YouTube, Instagramu a Facebooku
- **P≈ôehledn√© Karty**: Zobrazen√≠ vide√≠, reel≈Ø a post≈Ø s n√°hledem a statistikami

### üöó Moje Gar√°≈æ
- **Spr√°va Vozidel**: P≈ôid√°v√°n√≠ a editace vlastn√≠ch aut s detailn√≠mi informacemi
- **Fotogalerie**: A≈æ 4 fotky na auto s automatickou kompres√≠
- **Tuning & √öpravy**: Sledov√°n√≠ v≈°ech modifikac√≠ a vylep≈°en√≠
- **Historie Vlastnictv√≠**: Oznaƒçen√≠ aut, kter√° ji≈æ nevlastn√≠te
- **üÜï Statusy Aut**: Barevn√© odznaky pro auta (daily, sez√≥nn√≠, v renovaci, atd.)
- **üÜï Servisn√≠ Kn√≠≈æka**: Kompletn√≠ digit√°ln√≠ evidence servisu
- **üÜï Digit√°ln√≠ Kasl√≠k**: Sledov√°n√≠ platnosti STK, l√©k√°rniƒçky, d√°lniƒçn√≠ zn√°mky a poji≈°tƒõn√≠ (upozornƒõn√≠ p≈ôedem)
- **üÜï Tankov√°n√≠ a Statistiky**: Grafy spot≈ôeby, n√°klady palivo vs servis, cena za km, automatick√° synchronizace tachometru

### üîß Servisn√≠ Kn√≠≈æka (NOV√â!)
- **Digit√°ln√≠ Evidence**: Sledov√°n√≠ v≈°ech servisn√≠ch z√°sah≈Ø a oprav
- **Rychl√© ≈†ablony**: P≈ôedvyplnƒõn√© formul√°≈ôe pro bƒõ≈æn√© operace (olej, brzdy, pneumatiky)
- **N√°kladov√° Anal√Ωza**: Grafy celkov√Ωch n√°klad≈Ø a pr≈Ømƒõrn√Ωch mƒõs√≠ƒçn√≠ch v√Ωdaj≈Ø
- **Upom√≠nky**: Automatick√© p≈ôipom√≠nky nadch√°zej√≠c√≠ho servisu podle km nebo data
- **Evidence D√≠l≈Ø**: Detailn√≠ seznam pou≈æit√Ωch d√≠l≈Ø a materi√°lu
- **Timeline**: Chronologick√Ω p≈ôehled cel√© historie servisu

### üìÖ Kalend√°≈ô Akc√≠
- **Ofici√°ln√≠ Akce**: P≈ôehled nadch√°zej√≠c√≠ch sraz≈Ø a event≈Ø
- **Komunitn√≠ Srazy**: Mo≈ænost vytvo≈ôit vlastn√≠ sraz
- **Mapa**: Zobrazen√≠ akc√≠ na interaktivn√≠ mapƒõ
- **Detaily**: Informace o m√≠stƒõ, ƒçase a organiz√°torovi
- **üÜï √öƒçast na akc√≠ch**: Tlaƒç√≠tko "Z√∫ƒçastn√≠m se" s ukl√°d√°n√≠m do datab√°ze
- **üÜï Diskuze pod akc√≠**: Koment√°≈ôe a diskuze p≈ô√≠mo u ka≈æd√© akce

### üë• Komunita
- **Profily U≈æivatel≈Ø**: Zobrazen√≠ gar√°≈æe a aktivit ostatn√≠ch ƒçlen≈Ø (vƒçetnƒõ mo≈ænosti **odhl√°≈°en√≠** v nastaven√≠)
- **Seznam U≈æivatel≈Ø**: Proch√°zen√≠ komunity s p≈ôehledem **TOP 5 nejobl√≠benƒõj≈°√≠ch ƒçlen≈Ø** (dle poƒçtu p≈ô√°tel) a n√°hodn√Ω v√Ωbƒõr dal≈°√≠ch petrolhead≈Ø
- **üÜï Efektivn√≠ Vyhled√°v√°n√≠**: Optimalizovan√© vyhled√°v√°n√≠ u≈æivatel≈Ø s minim√°ln√≠m poƒçtem request≈Ø
- **Ve≈ôejn√© Gar√°≈æe**: Inspirace od ostatn√≠ch aut√≠ƒçk√°≈ô≈Ø
- **üöÄ V√Ωkonn√© Proch√°zen√≠**: Serverov√© str√°nkov√°n√≠ a filtrov√°n√≠ v≈°ech aut pro bleskov√© naƒç√≠t√°n√≠ i p≈ôi tis√≠c√≠ch vozidlech

### üìç Live Tracker (NOV√â!)
- **Real-time Mapa**: Zobrazen√≠ polohy ostatn√≠ch u≈æivatel≈Ø v re√°ln√©m ƒçase (**hybridn√≠ podpora pro Safari/Chrome na iOS**)
- **Privacy Z√≥ny**: Automatick√© skryt√≠ polohy v bl√≠zkosti domova
- **Statusy**: Nastaven√≠ statusu (D√°me pokec?, Z√°vod?, Proj√≠≈æƒèka?, atd.)
- **üÜò Help Beacon**: S.O.S. syst√©m pro nouzov√© situace
  - Plovouc√≠ S.O.S. tlaƒç√≠tko na mapƒõ
  - 5 typ≈Ø probl√©m≈Ø (porucha, pr√°zdn√° n√°dr≈æ, nehoda, defekt, jin√©)
  - Pulsuj√≠c√≠ ƒçerven√Ω marker viditeln√Ω do 50 km
  - Tlaƒç√≠tko "Jedu pomoct!" pro ostatn√≠ u≈æivatele
  - Mo≈ænost p≈ôidat popis situace
  - Sledov√°n√≠ stavu (aktivn√≠, pomoc na cestƒõ, vy≈ôe≈°eno)

### üè™ Bazar a Marketplace (NOV√â!)
- **Prodej aut**: Mo≈ænost oznaƒçit auto v gar√°≈æi jako "Na prodej" s cenou a popisem
- **Popt√°vky a Inzerce**: Vytv√°≈ôen√≠ inzer√°t≈Ø typu "Sh√°n√≠m auto/d√≠ly", "Nab√≠z√≠m d√≠ly/servis"
- **Filtrov√°n√≠ a Hled√°n√≠**: Fulltextov√© vyhled√°v√°n√≠ v inzer√°tech a autech na prodej
- **P≈ô√≠m√Ω Kontakt**: Tlaƒç√≠tko pro okam≈æit√© zah√°jen√≠ chatu s prodejcem
- **Notifikace**: Upozornƒõn√≠ na nov√© p≈ô√≠spƒõvky v bazaru (voliteln√©)

### üîî Push Notifikace (NOV√â!)
- **SOS Upozornƒõn√≠**: Okam≈æit√° notifikace p≈ôi vol√°n√≠ o pomoc
- **Koment√°≈ôe k akc√≠m**: Notifikace o nov√Ωch koment√°≈ô√≠ch u akc√≠, kter√Ωch se √∫ƒçastn√≠te
- **Zmƒõny v akc√≠ch**: Upozornƒõn√≠ p≈ôi zmƒõnƒõ data nebo m√≠sta akce
- **P≈ô√°tel√©**: Notifikace p≈ôi p≈ôid√°n√≠ do p≈ô√°tel
- **üÜï Digit√°ln√≠ Kasl√≠k**: Upozornƒõn√≠ na vypr≈°en√≠ STK, l√©k√°rniƒçky, poji≈°tƒõn√≠ nebo d√°lniƒçn√≠ zn√°mky
- **üÜï Chat s u≈æivateli**: Re√°ln√Ω chat mezi ƒçleny komunity s n√°hledy konverzac√≠ a histori√≠
- **üÜï Bazar a Marketplace**: Prodej aut p≈ô√≠mo z gar√°≈æe a inzerce popt√°vek po d√≠lech ƒçi servisu
- **Tich√© hodiny**: Nastaviteln√Ω ƒças, kdy notifikace nep≈ôijdou
- **Nativn√≠ nastaven√≠**: P≈ô√≠m√Ω odkaz do syst√©mov√©ho nastaven√≠ notifikac√≠ (v Android aplikaci)

### üí° My≈°lenky pro budouc√≠ verze
- V [ideas.md](docs/ideas.md) najdete nƒõkter√© my≈°lenky pro budouc√≠ verze aplikace, kter√© m≈Ø≈æete sami navrhovat.

### üêõ Zn√°m√© Chyby
- V [knowBugs.md](knowBugs.md) najdete seznam zn√°m√Ωch chyb a technick√Ωch probl√©m≈Ø, na kter√Ωch pracujeme.


### ‚öñÔ∏è Pr√°vn√≠ informace a Soukrom√≠ (AKTUALIZOV√ÅNO!)
- **GDPR Kompatibilita**: Kompletn√≠ revize z√°sad zpracov√°n√≠ osobn√≠ch √∫daj≈Ø.
- **Transparentnost**: Jasnƒõ definovan√° pravidla pro Bazar, Tracker a sd√≠len√≠ dat o spot≈ôebƒõ.
- **Kontakt**: P≈ô√≠m√Ω kontakt na spr√°vce √∫daj≈Ø (Jakub Pro≈°ek) pro uplatnƒõn√≠ pr√°v u≈æivatel≈Ø.

## Technologie

*   **Runtime:** Node.js (nebo Bun)
*   **Frontend:** React + Vite
*   **Jazyk:** TypeScript
*   **Logika & Efekty:** [Effect](https://effect.website)
*   **Stylov√°n√≠:** Tailwind CSS
*   **Backend:** Firebase (Auth, Firestore, Storage, Cloud Functions)
*   **Mapy:** Leaflet + OpenStreetMap
*   **Optimalizace:** Image caching (Cache-Control immutable, ImageLoader concurrency limit & circuit breaker, Prioritized loading for cars > avatars, Profile photo internalization), Input sanitation (auto-trim), Fast Initial Auth emission (Stale-while-revalidate), Stable useEffect dependencies (Double-loading prevention), Unified Loading UX (Rotating Logo), Social Feed caching (10min limit)

## Jak spustit projekt

1.  Nainstalujte z√°vislosti:
    ```bash
    npm install
    # nebo
    bun install
    ```

2.  Spus≈•te v√Ωvojov√Ω server:
    ```bash
    npm run dev
    # nebo
    bun dev
    ```

3.  Otev≈ôete v prohl√≠≈æeƒçi adresu, kterou vyp√≠≈°e konzole (obvykle `http://localhost:5173`).

## Nastaven√≠ Firebase

Aby aplikace plnƒõ fungovala (p≈ôihla≈°ov√°n√≠, ukl√°d√°n√≠ aut, servisn√≠ kn√≠≈æka), je pot≈ôeba vytvo≈ôit projekt na Firebase.

1.  Jdƒõte na [Firebase Console](https://console.firebase.google.com/).
2.  Vytvo≈ôte nov√Ω projekt "Bez Komprese App".
3.  V sekci **Authentication** zapnƒõte metodu **Google**.
4.  V sekci **Firestore Database** vytvo≈ôte datab√°zi (v test m√≥du).
5.  V sekci **Storage** aktivujte Firebase Storage pro ukl√°d√°n√≠ fotek.
6.  Jdƒõte do **Project Settings** -> General -> Your apps -> Web app -> SDK Setup and Configuration.
7.  Zkop√≠rujte konfiguraƒçn√≠ objekt (`apiKey`, `authDomain`, atd.).
8.  Vytvo≈ôte soubor `.env` podle `.env.example` a vypl≈àte Firebase credentials.

### Firestore Kolekce

Aplikace pou≈æ√≠v√° n√°sleduj√≠c√≠ kolekce:
- `users` - U≈æivatelsk√© profily
- `cars` - Vozidla u≈æivatel≈Ø
- `events` - Komunitn√≠ akce a srazy
- `event-comments` - Koment√°≈ôe k akc√≠m
- `service-records` - Z√°znamy ze servisn√≠ kn√≠≈æky
- `presence` - Real-time poloha u≈æivatel≈Ø pro Live Tracker
- `help-beacons` - S.O.S. sign√°ly pro nouzov√© situace
- `marketplace-listings` - Inzer√°ty v bazaru (popt√°vky, d√≠ly)
- `chats` - Konverzace mezi u≈æivateli

## Struktura projektu

*   `src/services/` - Logika aplikace obalen√° v Effect (AuthService, DataService).
*   `src/pages/` - Jednotliv√© obrazovky (Home, Garage, ServiceBook, Events, Info).
*   `src/components/` - Sd√≠len√© komponenty (Layout, EventMap, Footer).
*   `src/contexts/` - React Context pro zp≈ô√≠stupnƒõn√≠ slu≈æeb.
*   `src/types/` - TypeScript definice (Car, ServiceRecord, AppEvent).
*   `src/lib/` - Utility funkce (imageOptimizer).

## Deployment

Aplikace je automaticky deployov√°na na Firebase Hosting p≈ôi push do main vƒõtve.

Pro manu√°ln√≠ deployment:
```bash
npm run build
firebase deploy
```

## Licence a P≈ôisp√≠v√°n√≠
¬© 2026 Jakub Pro≈°ek. V≈°echna pr√°va vyhrazena.

Zdrojov√Ω k√≥d je zve≈ôejnƒõn za √∫ƒçelem transparentnosti a umo≈ænƒõn√≠ komunitn√≠ho v√Ωvoje (Pull Requests) pro **tuto konkr√©tn√≠ aplikaci**.

- **‚úÖ Povoleno:** Prohl√≠≈æen√≠ k√≥du, uƒçen√≠ se z nƒõj, navrhov√°n√≠ zmƒõn a oprav (Fork + Pull Request) do tohoto repozit√°≈ôe.
- **‚ùå Zak√°z√°no:** Redistribuce, prodej, nebo provozov√°n√≠ upraven√Ωch kopi√≠ aplikace pod vlastn√≠m jm√©nem bez v√Ωslovn√©ho souhlasu autora.

Tento projekt je vytvo≈ôen pro prim√°rnƒõ pro fanou≈°ky kan√°lu Bez Komprese, av≈°ak budeme r√°di za pou≈æit√≠ k√Ωmkoliv dal≈°√≠m.
